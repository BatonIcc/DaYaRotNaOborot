{% extends "base.html" %}

{% block content %}
    <script src="{{ url_for('static', filename='js/tic_tac_toe.js') }}"></script>
    {% import "macros.html" as  macros %}

    {{ macros.user_navbar(user_data) }}

    <div class="game-container">
        <h1 class="game-title-page">Крестики-нолики</h1>

        <div class="game-mode">
            <button class="mode-btn active" id="pvpMode">Игрок vs Игрок</button>
            <button class="mode-btn" id="pvcMode">Игрок vs Компьютер</button>
        </div>

        <div class="game-board" id="gameBoard">
            <div class="cell" data-index="0"></div>
            <div class="cell" data-index="1"></div>
            <div class="cell" data-index="2"></div>
            <div class="cell" data-index="3"></div>
            <div class="cell" data-index="4"></div>
            <div class="cell" data-index="5"></div>
            <div class="cell" data-index="6"></div>
            <div class="cell" data-index="7"></div>
            <div class="cell" data-index="8"></div>
        </div>

        <div class="game-info">
            <div class="current-player">Текущий ход: <span id="currentPlayer">X</span> <span id="computerThinking" style="display: none;" class="loading"></span></div>
            <div class="scoreboard">
                <div class="score x">
                    Игрок X
                    <span id="scoreX">0</span>
                </div>
                <div class="score o">
                    Игрок O
                    <span id="scoreO">0</span>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-primary" id="restartBtn">Новая игра</button>
            <button class="btn btn-outline" id="resetScoreBtn">Сбросить счет</button>
        </div>
    </div>

    <div class="game-over" id="gameOver">
        <h2>Игра окончена!</h2>
        <div class="winner" id="winner">X</div>
        <button class="btn btn-primary" id="newGameBtn">Новая игра</button>
    </div>

{% endblock %}